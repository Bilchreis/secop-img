\documentclass[margin=10pt]{standalone}
\usepackage{color,xcolor}

\usepackage[utf8]{inputenc} 

\input{../praeambel}





\tikzset{% NodeInstance
	base/.style    = {draw, thick, rectangle, minimum height = 3em,
		minimum width = 5em, inner sep=1em,node distance=3em,rounded corners=0.8em},
	ecs/.style = {object,fill=orange!30,font = \Large},
	node/.style = {
		base,
		font=\large,
		rectangle split,
		rectangle split horizontal,
		rectangle split part fill={green!30,blue!5},
		rectangle split parts=2
		%text width =2cm
	},
	property/.style = {base,fill=blue!5,font=\scriptsize, minimum height = 2em,
		minimum width = 2em, align=center,node distance=0.2em,inner sep=0.5em,rounded corners=0.5em},
	module/.style = {
		base,
		font=\large,
		rectangle split,
		rectangle split horizontal,
		rectangle split part fill={red!20,blue!5},
		rectangle split parts=2
		%text width =2cm
	},
	module_no_split/.style = {
		base,
		font=\large,
		fill=red!20,
	},
	acessibles/.style = {
	base,
	rounded corners=0.8em,
	font=\large,
	rectangle split,
	rectangle split part fill={yellow!30,yellow!15,yellow!15},
	rectangle split parts=3
	%text width =2cm
	},
	consists/.style ={
	line width=0.5mm
	},
	secop/.style ={
		line width=0.5mm,
		color = purple
	},
	every text node part/.style={align=center}
		
}

\begin{document}
	
	
	
\footnotesize
	\begin{tikzpicture}[auto, thick, node distance=2cm, >=triangle 45,every text node part/.style={align=center}]
	
	\draw
	node at (0,0) [ecs] (ecs) {Experimental Control System}
	
	node [node,below = of ecs,xshift = -4cm,yshift = -1cm] (NodeA) {\texttt{Node A} \nodepart[text width=2cm]{two}  
		\footnotesize \texttt{Properties:}\\		
		\scriptsize\texttt{%
		$\bullet$ description\\%
		$\bullet$ equipment\_id\\%
		$\bullet$ ...\\}
	} 

	node [node,below = of ecs,xshift = 4cm,yshift = -1cm] (NodeB) {\texttt{Node B} \nodepart[text width=2cm]{two}  
	\footnotesize \texttt{Properties:}\\		
	\scriptsize\texttt{%
		$\bullet$ description\\%
		$\bullet$ equipment\_id\\%
		$\bullet$ ...\\}
	} 
	

	node [module,below= of NodeA] (mod1){\texttt{Module A.1} \nodepart[text width=2.5cm]{two}  
		\footnotesize \texttt{Properties:}\\		
		\scriptsize\texttt{%
			$\bullet$ description\\%
			$\bullet$ interface\_classes\\%
			$\bullet$ ...\\}
	} 


	node [module_no_split,below = of NodeB,xshift = -1.7cm] (modB1) {\texttt{Module B.1}}
	node [module_no_split,below = of NodeB,xshift = 1.7cm] (modB2) {\texttt{Module B.2}}

	node [acessibles,below= of mod1] (acc1){
		\texttt{Acessibles}%
		\nodepart[text width=2.5cm]{two}  
	\footnotesize \texttt{Parameters:}\\		
	\scriptsize\texttt{%
		$\bullet$ value\\%
		$\bullet$ status\\%
		$\bullet$ ...\\}
			\nodepart[text width=2.5cm]{three}  
	\footnotesize \texttt{Commands:}\\		
	\scriptsize\texttt{%
		$\bullet$ stop\\%
		$\bullet$ ...\\}
	} 

	node [property,right = of acc1,yshift = 0.55cm](param_prop1) {Properties}
	node [property,below = of param_prop1](param_prop2) {Properties}
	node [property,below = of param_prop2,yshift = -0.55cm](cmd_prop) {Properties}
	
	
	;
	
	
	
	\draw[<->,secop] (ecs) -- (NodeA)  node[midway,above,xshift =0.1cm,sloped] {\textbf{SECoP}} ;
	\draw[<->,secop] (ecs) -- (NodeA)  node[midway,below,xshift =0.1cm,sloped] {\textit{TCP}} ;
	
	\draw[<->,secop] (ecs) -- (NodeB)  node[midway,above,xshift =0.1cm,sloped] {\textbf{SECoP}} ;
	\draw[<->,secop] (ecs) -- (NodeB)  node[midway,below,xshift =0.1cm,sloped] {\textit{TCP}} ;
	
	\draw[-,consists] (NodeA) --(mod1);
	\draw[-,consists] (mod1) --(acc1);

	\draw[-,consists] (NodeB) --(modB1);
	\draw[-,consists] (NodeB) --(modB2);
	
	\draw[-,consists] (param_prop1) -- (-4.15,-9.1);
	\draw[-,consists] (param_prop2) -- (-4.15,-9.4);
	\draw[-,consists] (cmd_prop) -- (-4.4,-10.75);
	
\end{tikzpicture}


	
	
	
\end{document}